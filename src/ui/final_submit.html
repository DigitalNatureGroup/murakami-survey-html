<h2>é€ä¿¡ç¢ºèª</h2>

<p>ä»¥ä¸Šã§ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆã¯çµ‚äº†ã§ã™ã€‚ã™ã¹ã¦ã®å›ç­”ãŒæ­£å¸¸ã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚</p>

<div style="background: #e8f5e8; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #28a745;">
  <h3 style="margin-top: 0; color: #2e7d32;">âœ… å®Œäº†ã—ãŸã‚¢ãƒ³ã‚±ãƒ¼ãƒˆ</h3>
  <ul style="margin: 0; padding-left: 20px;">
    <li><strong>NASA-TLX ä½œæ¥­è² è·è©•ä¾¡</strong> - 7é …ç›®ã®ä½œæ¥­è² è·è©•ä¾¡</li>
    <li><strong>SUS ã‚·ã‚¹ãƒ†ãƒ ä½¿ç”¨æ€§å°ºåº¦</strong> - 10é …ç›®ã®ä½¿ã„ã‚„ã™ã•è©•ä¾¡</li>
  </ul>
</div>

<div style="background: #fff3cd; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #ffc107;">
  <h3 style="margin-top: 0; color: #856404;">ğŸ“Š å›ç­”ãƒ‡ãƒ¼ã‚¿ã®ç¢ºèª</h3>
  <p style="margin: 0;">
    ä»¥ä¸‹ã®æƒ…å ±ãŒè¨˜éŒ²ã•ã‚Œã¦ã„ã¾ã™ï¼š
  </p>
  <ul style="margin: 10px 0; padding-left: 20px;">
    <li><strong>UID:</strong> <?= uid ?></li>
    <li><strong>Session:</strong> <?= session ?></li>
    <li><strong>å›ç­”æ—¥æ™‚:</strong> <span id="currentTime"></span></li>
    <li><strong>ä¿å­˜å…ˆ:</strong> Google Spreadsheet</li>
  </ul>
</div>

<div style="background: #e3f2fd; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #2196f3;">
  <h3 style="margin-top: 0; color: #1976d2;">ğŸ”’ ãƒ‡ãƒ¼ã‚¿ã®å–ã‚Šæ‰±ã„</h3>
  <p style="margin: 0;">
    å›ç­”ãƒ‡ãƒ¼ã‚¿ã¯ç ”ç©¶ç›®çš„ã§ã®ã¿ä½¿ç”¨ã•ã‚Œã€å€‹äººã‚’ç‰¹å®šã§ãã‚‹æƒ…å ±ã¯å«ã¾ã‚Œã¦ã„ã¾ã›ã‚“ã€‚
    ãƒ‡ãƒ¼ã‚¿ã¯å®‰å…¨ã«ç®¡ç†ã•ã‚Œã€ç ”ç©¶å®Œäº†å¾Œã«é©åˆ‡ã«å‡¦ç†ã•ã‚Œã¾ã™ã€‚
  </p>
</div>

<div style="background: #d4edda; padding: 20px; border-radius: 8px; margin: 20px 0; border-left: 4px solid #28a745;">
  <h3 style="margin-top: 0; color: #155724;">ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h3>
  <p style="margin: 0;">
    ã€Œé€ä¿¡ã€ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ã€ã™ã¹ã¦ã®å›ç­”ãŒæœ€çµ‚ç¢ºèªã•ã‚Œã€å®Œäº†ãƒšãƒ¼ã‚¸ã«ç§»å‹•ã—ã¾ã™ã€‚
    ã“ã®æ“ä½œã¯å–ã‚Šæ¶ˆã™ã“ã¨ãŒã§ãã¾ã›ã‚“ã€‚
  </p>
</div>

<!-- æœ€çµ‚ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ -->
<div style="background: white; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #e9ecef;">
  <div style="display: flex; align-items: center; gap: 10px;">
    <input type="checkbox" id="confirmCheckbox" style="transform: scale(1.2);">
    <label for="confirmCheckbox" style="font-weight: bold; color: #333;">
      ä¸Šè¨˜ã®å†…å®¹ã‚’ç¢ºèªã—ã€å›ç­”ãƒ‡ãƒ¼ã‚¿ã®é€ä¿¡ã«åŒæ„ã—ã¾ã™
    </label>
  </div>
</div>

<script>
  // ç¾åœ¨æ™‚åˆ»ã‚’è¡¨ç¤º
  function updateCurrentTime() {
    const now = new Date();
    const timeString = now.toLocaleString('ja-JP', {
      year: 'numeric',
      month: '2-digit',
      day: '2-digit',
      hour: '2-digit',
      minute: '2-digit',
      second: '2-digit'
    });
    document.getElementById('currentTime').textContent = timeString;
  }
  
  // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®å‡¦ç†
  window.onPageLoad = function() {
    console.log('é€ä¿¡ç¢ºèªãƒšãƒ¼ã‚¸ãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
    
    // ç¾åœ¨æ™‚åˆ»ã‚’è¡¨ç¤º
    updateCurrentTime();
    setInterval(updateCurrentTime, 1000);
    
    // ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®å¤‰æ›´ã‚’ç›£è¦–
    const checkbox = document.getElementById('confirmCheckbox');
    const nextBtn = document.querySelector('#nextBtn');
    
    if (checkbox && nextBtn) {
      checkbox.addEventListener('change', function() {
        nextBtn.disabled = !this.checked;
        if (this.checked) {
          nextBtn.style.opacity = '1';
        } else {
          nextBtn.style.opacity = '0.6';
        }
      });
      
      // åˆæœŸçŠ¶æ…‹ã§ã¯é€ä¿¡ãƒœã‚¿ãƒ³ã‚’ç„¡åŠ¹åŒ–
      nextBtn.disabled = true;
      nextBtn.style.opacity = '0.6';
    }
  };
  
  // å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã™ã‚‹é–¢æ•°ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ï¼‰
  window.collectAnswers = function() {
    const checkbox = document.getElementById('confirmCheckbox');
    if (!checkbox || !checkbox.checked) {
      throw new Error('é€ä¿¡ã®ç¢ºèªãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚Œã¦ãã ã•ã„');
    }
    
    return { 
      confirm: true,
      confirmedAt: new Date().toISOString(),
      finalConfirmation: 'é€ä¿¡ç¢ºèªå®Œäº†'
    };
  };
</script>

<style>
  /* é€ä¿¡ç¢ºèªãƒšãƒ¼ã‚¸å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
  .form-item {
    margin: 20px 0;
  }
  
  /* ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º */
  input[type="checkbox"] {
    accent-color: #28a745;
  }
  
  /* ãƒœã‚¿ãƒ³ã®ç„¡åŠ¹åŒ–ã‚¹ã‚¿ã‚¤ãƒ« */
  button:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
</style>
