<h2>NASA-TLX ä½œæ¥­è² è·è©•ä¾¡</h2>

<p>ä»¥ä¸‹ã®7ã¤ã®é …ç›®ã«ã¤ã„ã¦ã€ä½œæ¥­ä¸­ã®è² è·ã®ç¨‹åº¦ã‚’è©•ä¾¡ã—ã¦ãã ã•ã„ã€‚å„ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã¯å·¦ãŒã€Œå°ã•ã„/ä½ã„/è‰¯ã„ã€ã€å³ãŒã€Œå¤§ãã„/é«˜ã„/æ‚ªã„ã€ã‚’ç¤ºã—ã¾ã™ã€‚</p>

<div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin: 20px 0; font-size: 0.9em; color: #666;">
  <strong>å‚è€ƒ:</strong> èŠ³è³€ãƒ»æ°´ä¸Šï¼ˆ1996ï¼‰ã€Œæ—¥æœ¬èªç‰ˆ NASA-TLX ã«ã‚ˆã‚‹ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¯ãƒ¼ã‚¯ãƒ­ãƒ¼ãƒ‰æ¸¬å®šã€ã€ç”£æ¥­ãƒ»çµ„ç¹”å¿ƒç†å­¦ç ”ç©¶ã€10(2) æº–æ‹ 
</div>

<form id="nasaTlxForm">
  <!-- ç²¾ç¥çš„è¦æ±‚ -->
  <div class="form-item">
    <label for="mental">
      ç²¾ç¥çš„è¦æ±‚ (Mental Demand)
      <span class="desc">
        ã©ã®ç¨‹åº¦ã®çŸ¥çš„ãƒ»çŸ¥è¦šçš„æ´»å‹•ï¼ˆè€ƒãˆã‚‹ã€æ±ºã‚ã‚‹ã€è¨ˆç®—ã™ã‚‹ã€è¨˜æ†¶ã™ã‚‹ã€è¦‹ã‚‹ãªã©ï¼‰ã‚’å¿…è¦ã¨ã—ã¾ã—ãŸã‹ã€‚
        èª²é¡Œã¯ã‚„ã•ã—ã‹ã£ãŸã§ã™ã‹é›£ã—ã‹ã£ãŸã§ã™ã‹ã€‚å˜ç´”ã§ã—ãŸã‹è¤‡é›‘ã§ã—ãŸã‹ã€æ­£ç¢ºã•ãŒæ±‚ã‚ã‚‰ã‚Œã¾ã—ãŸã‹ã€å¤§ã–ã£ã±ã§ã‚ˆã‹ã£ãŸã§ã™ã‹ã€‚
      </span>
    </label>
    <input type="range" id="mental" name="mental" min="0" max="100" value="50" required>
    <div class="anchors">
      <span>å°ã•ã„</span>
      <span>å¤§ãã„</span>
    </div>
  </div>

  <!-- èº«ä½“çš„è¦æ±‚ -->
  <div class="form-item">
    <label for="physical">
      èº«ä½“çš„è¦æ±‚ (Physical Demand)
      <span class="desc">
        ã©ã®ç¨‹åº¦ã®èº«ä½“çš„æ´»å‹•ï¼ˆæŠ¼ã™ã€å¼•ãã€å›ã™ã€åˆ¶å¾¡ã™ã‚‹ã€å‹•ãå›ã‚‹ãªã©ï¼‰ã‚’å¿…è¦ã¨ã—ã¾ã—ãŸã‹ã€‚
        ä½œæ¥­ã¯ãƒ©ã‚¯ã§ã—ãŸã‹ã‚­ãƒ„ã‹ã£ãŸã§ã™ã‹ã€ã‚†ã£ãã‚Šã§ãã¾ã—ãŸã‹ã‚­ãƒ“ã‚­ãƒ“ã‚„ã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã§ã—ãŸã‹ã€ä¼‘ã¿ä¼‘ã¿ã§ãã¾ã—ãŸã‹åƒãã¥ã‚ã§ã—ãŸã‹ã€‚
      </span>
    </label>
    <input type="range" id="physical" name="physical" min="0" max="100" value="50" required>
    <div class="anchors">
      <span>å°ã•ã„</span>
      <span>å¤§ãã„</span>
    </div>
  </div>

  <!-- æ™‚é–“çš„è¦æ±‚ -->
  <div class="form-item">
    <label for="temporal">
      æ™‚é–“çš„è¦æ±‚ (Temporal Demand)
      <span class="desc">
        ä»•äº‹ã®ãƒšãƒ¼ã‚¹ã‚„èª²é¡ŒãŒç™ºç”Ÿã™ã‚‹é »åº¦ã®ãŸã‚ã«æ„Ÿã˜ã‚‹æ™‚é–“çš„åˆ‡è¿«æ„Ÿã¯ã©ã®ç¨‹åº¦ã§ã—ãŸã‹ã€‚
        ãƒšãƒ¼ã‚¹ã¯ã‚†ã£ãã‚Šã¨ã—ã¦ä½™è£•ãŒã‚ã‚‹ã‚‚ã®ã§ã—ãŸã‹ã€ãã‚Œã¨ã‚‚é€Ÿãã¦ä½™è£•ã®ãªã„ã‚‚ã®ã§ã—ãŸã‹ã€‚
      </span>
    </label>
    <input type="range" id="temporal" name="temporal" min="0" max="100" value="50" required>
    <div class="anchors">
      <span>çŸ­ã„</span>
      <span>é•·ã„</span>
    </div>
  </div>

  <!-- ä½œæ¥­æˆç¸¾ -->
  <div class="form-item">
    <label for="performance">
      ä½œæ¥­æˆç¸¾ (Performance)
      <span class="desc">
        ä½œæ¥­æŒ‡ç¤ºè€…ï¼ˆã¾ãŸã¯ã‚ãªãŸè‡ªèº«ï¼‰ã«ã‚ˆã£ã¦è¨­å®šã•ã‚ŒãŸèª²é¡Œã®ç›®æ¨™ã‚’ã©ã®ç¨‹åº¦é”æˆã§ããŸã¨æ€ã„ã¾ã™ã‹ã€‚
        ç›®æ¨™ã®é”æˆã«é–¢ã—ã¦è‡ªåˆ†ã®ä½œæ¥­æˆç¸¾ã«ã©ã®ç¨‹åº¦æº€è¶³ã—ã¦ã„ã¾ã™ã‹ã€‚
      </span>
    </label>
    <input type="range" id="performance" name="performance" min="0" max="100" value="50" required>
    <div class="anchors">
      <span>è‰¯ã„</span>
      <span>æ‚ªã„</span>
    </div>
  </div>

  <!-- åŠªåŠ› -->
  <div class="form-item">
    <label for="effort">
      åŠªåŠ› (Effort)
      <span class="desc">
        ä½œæ¥­æˆç¸¾ã®ãƒ¬ãƒ™ãƒ«ã‚’é”æˆãƒ»ç¶­æŒã™ã‚‹ãŸã‚ã«ã€ç²¾ç¥çš„ãƒ»èº«ä½“çš„ã«ã©ã®ç¨‹åº¦ã„ã£ã—ã‚‡ã†ã‘ã‚“ã‚ã„ã«ä½œæ¥­ã—ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã§ã—ãŸã‹ã€‚
      </span>
    </label>
    <input type="range" id="effort" name="effort" min="0" max="100" value="50" required>
    <div class="anchors">
      <span>å°‘ãªã„</span>
      <span>å¤šã„</span>
    </div>
  </div>

  <!-- æ¬²æ±‚ä¸æº€ -->
  <div class="form-item">
    <label for="frustration">
      æ¬²æ±‚ä¸æº€ (Frustration)
      <span class="desc">
        ä½œæ¥­ä¸­ã«ã€ä¸å®‰æ„Ÿã€è½èƒ†ã€ã„ã‚‰ã„ã‚‰ã€ã‚¹ãƒˆãƒ¬ã‚¹ã€æ‚©ã¿ã‚’ã©ã®ç¨‹åº¦æ„Ÿã˜ã¾ã—ãŸã‹ã€‚
        ã‚ã‚‹ã„ã¯é€†ã«ã€å®‰å¿ƒæ„Ÿã€æº€è¶³æ„Ÿã€å……è¶³æ„Ÿã€æ¥½ã—ã•ã€ãƒªãƒ©ãƒƒã‚¯ã‚¹ã‚’ã©ã®ç¨‹åº¦æ„Ÿã˜ã¾ã—ãŸã‹ã€‚
      </span>
    </label>
    <input type="range" id="frustration" name="frustration" min="0" max="100" value="50" required>
    <div class="anchors">
      <span>ä½ã„</span>
      <span>é«˜ã„</span>
    </div>
  </div>

  <!-- å…¨ä½“çš„è² è· -->
  <div class="form-item">
    <label for="overall">
      å…¨ä½“çš„è² è· (Overall Workload)
      <span class="desc">
        ã•ã¾ã–ã¾ãªè² è·è¦å› ã€è² è·åŸå› ã€‚éƒ¨åˆ†éƒ¨åˆ†ã®èª²é¡Œå†…å®¹ã‚’ç·åˆã™ã‚‹ã¨ã€å…¨ä½“ã¨ã—ã¦ã©ã®ç¨‹åº¦ã®ä½œæ¥­è² æ‹…ã‚’æ„Ÿã˜ã¾ã—ãŸã‹ã€‚
      </span>
    </label>
    <input type="range" id="overall" name="overall" min="0" max="100" value="50" required>
    <div class="anchors">
      <span>ä½ã„</span>
      <span>é«˜ã„</span>
    </div>
  </div>
</form>

<!-- å›ç­”ç¢ºèªã‚¨ãƒªã‚¢ -->
<div id="answerSummary" style="display: none; background: #e8f5e8; padding: 15px; border-radius: 8px; margin: 20px 0;">
  <h3 style="margin-top: 0; color: #2e7d32;">ğŸ“Š å›ç­”ç¢ºèª</h3>
  <div id="summaryContent"></div>
</div>

<script>
  // å›ç­”ãƒ‡ãƒ¼ã‚¿ã‚’åé›†ã™ã‚‹é–¢æ•°ï¼ˆãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‹ã‚‰å‘¼ã³å‡ºã•ã‚Œã‚‹ï¼‰
  window.collectAnswers = function() {
    const form = document.getElementById('nasaTlxForm');
    const formData = new FormData(form);
    const answers = {};
    
    // å„ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’å–å¾—
    for (const [key, value] of formData) {
      answers[key] = parseInt(value);
    }
    
    // å›ç­”ã®å¦¥å½“æ€§ãƒã‚§ãƒƒã‚¯
    const requiredFields = ['mental', 'physical', 'temporal', 'performance', 'effort', 'frustration', 'overall'];
    for (const field of requiredFields) {
      if (!answers[field] && answers[field] !== 0) {
        throw new Error(`${field} ã®å›ç­”ãŒä¸è¶³ã—ã¦ã„ã¾ã™`);
      }
    }
    
    return answers;
  };
  
  // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã®å‡¦ç†
  window.onPageLoad = function() {
    console.log('NASA-TLX ã‚¢ãƒ³ã‚±ãƒ¼ãƒˆãŒèª­ã¿è¾¼ã¾ã‚Œã¾ã—ãŸ');
    
    // ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤å¤‰æ›´æ™‚ã«å›ç­”ç¢ºèªã‚’è¡¨ç¤º
    const sliders = document.querySelectorAll('input[type="range"]');
    sliders.forEach(slider => {
      slider.addEventListener('input', updateAnswerSummary);
    });
    
    // åˆæœŸè¡¨ç¤º
    updateAnswerSummary();
  };
  
  // å›ç­”ç¢ºèªã®æ›´æ–°
  function updateAnswerSummary() {
    const summaryDiv = document.getElementById('answerSummary');
    const contentDiv = document.getElementById('summaryContent');
    
    if (!summaryDiv || !contentDiv) return;
    
    const answers = {};
    const labels = {
      mental: 'ç²¾ç¥çš„è¦æ±‚',
      physical: 'èº«ä½“çš„è¦æ±‚',
      temporal: 'æ™‚é–“çš„è¦æ±‚',
      performance: 'ä½œæ¥­æˆç¸¾',
      effort: 'åŠªåŠ›',
      frustration: 'æ¬²æ±‚ä¸æº€',
      overall: 'å…¨ä½“çš„è² è·'
    };
    
    // å„ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®å€¤ã‚’å–å¾—
    for (const [key, label] of Object.entries(labels)) {
      const slider = document.getElementById(key);
      if (slider) {
        answers[key] = parseInt(slider.value);
      }
    }
    
    // å›ç­”ç¢ºèªã®è¡¨ç¤º
    let summaryHtml = '<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">';
    for (const [key, value] of Object.entries(answers)) {
      summaryHtml += `
        <div style="background: white; padding: 8px; border-radius: 4px;">
          <strong>${labels[key]}:</strong> ${value}
        </div>
      `;
    }
    summaryHtml += '</div>';
    
    contentDiv.innerHTML = summaryHtml;
    summaryDiv.style.display = 'block';
  }
</script>

<style>
  /* NASA-TLX å°‚ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
  .form-item {
    margin: 30px 0;
    padding: 20px;
    border: 1px solid #e9ecef;
    border-radius: 8px;
    background: white;
  }
  
  .form-item label {
    font-weight: bold;
    display: block;
    margin-bottom: 8px;
    color: #333;
  }
  
  .form-item .desc {
    font-weight: normal;
    font-size: 0.9em;
    color: #666;
    line-height: 1.5;
    display: block;
    margin-top: 5px;
    font-style: italic;
  }
  
  .form-item input[type="range"] {
    width: 100%;
    max-width: 500px;
    margin: 10px 0;
  }
  
  .form-item .anchors {
    display: flex;
    justify-content: space-between;
    font-size: 0.85em;
    margin-top: 5px;
    color: #666;
    font-weight: 500;
  }
  
  /* ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º */
  input[type="range"] {
    -webkit-appearance: none;
    appearance: none;
    height: 8px;
    border-radius: 4px;
    background: #ddd;
    outline: none;
  }
  
  input[type="range"]::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #667eea;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  
  input[type="range"]::-moz-range-thumb {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    background: #667eea;
    cursor: pointer;
    border: none;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
</style>
